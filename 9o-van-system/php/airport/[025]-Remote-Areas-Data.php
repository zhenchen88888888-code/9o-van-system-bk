/**
 * Code Snippet: [025] 9O Booking - Remote Areas Data
 * 
 * Code Snippets 設定:
 * - Title: [025] 9O Booking - Remote Areas Data
 * - Description: 定義偏遠地區完整座標資料
 * - Tags: 9o-booking, remote-areas, coordinates
 * - Priority: 25
 * - Run snippet: Run snippet everywhere
 */

// 確保核心設定已載入
if (!defined('NINEO_BOOKING_VERSION')) {
    error_log('[9O Booking] Remote Areas Data: Core Setup not loaded');
    return;
}

// 定義完整的偏遠地區座標資料
global $REMOTE_AREAS;
$REMOTE_AREAS = [
    // +300 區域（3個多邊形）
    [
        'name' => '加價300區域',
        'surcharge' => 300,
        'polygons' => [
            // 第1個多邊形
            [
                ['lat' => 25.226389, 'lng' => 121.436142],
                ['lat' => 25.224526, 'lng' => 121.452278],
                ['lat' => 25.211481, 'lng' => 121.460518],
                ['lat' => 25.171404, 'lng' => 121.463265],
                ['lat' => 25.145301, 'lng' => 121.466011],
                ['lat' => 25.126652, 'lng' => 121.466355],
                ['lat' => 25.121368, 'lng' => 121.460861],
                ['lat' => 25.113907, 'lng' => 121.459145],
                ['lat' => 25.116083, 'lng' => 121.453308],
                ['lat' => 25.123855, 'lng' => 121.445412],
                ['lat' => 25.135977, 'lng' => 121.436485],
                ['lat' => 25.146233, 'lng' => 121.429276],
                ['lat' => 25.150584, 'lng' => 121.426529],
                ['lat' => 25.133801, 'lng' => 121.411423],
                ['lat' => 25.130382, 'lng' => 121.400437],
                ['lat' => 25.115462, 'lng' => 121.387047],
                ['lat' => 25.124476, 'lng' => 121.38224],
                ['lat' => 25.143436, 'lng' => 121.373314],
                ['lat' => 25.161461, 'lng' => 121.368851],
                ['lat' => 25.168919, 'lng' => 121.38224]
            ],
            // 第2個多邊形
            [
                ['lat' => 25.158247, 'lng' => 121.526098],
                ['lat' => 25.149934, 'lng' => 121.537084],
                ['lat' => 25.138978, 'lng' => 121.535797],
                ['lat' => 25.133461, 'lng' => 121.535883],
                ['lat' => 25.130198, 'lng' => 121.538543],
                ['lat' => 25.127012, 'lng' => 121.544122],
                ['lat' => 25.12064, 'lng' => 121.5485],
                ['lat' => 25.117158, 'lng' => 121.55013],
                ['lat' => 25.114516, 'lng' => 121.557169],
                ['lat' => 25.116614, 'lng' => 121.564808],
                ['lat' => 25.110552, 'lng' => 121.563348],
                ['lat' => 25.109853, 'lng' => 121.567039],
                ['lat' => 25.110941, 'lng' => 121.572446],
                ['lat' => 25.114049, 'lng' => 121.577167],
                ['lat' => 25.116847, 'lng' => 121.579485],
                ['lat' => 25.121743, 'lng' => 121.58103],
                ['lat' => 25.127338, 'lng' => 121.581802],
                ['lat' => 25.136419, 'lng' => 121.576432],
                ['lat' => 25.142635, 'lng' => 121.571797],
                ['lat' => 25.144344, 'lng' => 121.565703],
                ['lat' => 25.146675, 'lng' => 121.557034],
                ['lat' => 25.152876, 'lng' => 121.559008],
                ['lat' => 25.154585, 'lng' => 121.552485],
                ['lat' => 25.160878, 'lng' => 121.548451],
                ['lat' => 25.162354, 'lng' => 121.545447],
                ['lat' => 25.163597, 'lng' => 121.534975],
                ['lat' => 25.162121, 'lng' => 121.527594]
            ],
            // 第3個多邊形
            [
                ['lat' => 25.007374, 'lng' => 121.60264],
                ['lat' => 24.996173, 'lng' => 121.602125],
                ['lat' => 24.993994, 'lng' => 121.615858],
                ['lat' => 24.995861, 'lng' => 121.630621],
                ['lat' => 24.999751, 'lng' => 121.631136],
                ['lat' => 25.001462, 'lng' => 121.633024],
                ['lat' => 25.006441, 'lng' => 121.628561],
                ['lat' => 25.007996, 'lng' => 121.623583],
                ['lat' => 25.007996, 'lng' => 121.613627]
            ]
        ]
    ],
    
    // +400 區域（1個多邊形）
    [
        'name' => '加價400區域',
        'surcharge' => 400,
        'polygons' => [
            [
                ['lat' => 24.728356, 'lng' => 121.111081],
                ['lat' => 24.711827, 'lng' => 121.107991],
                ['lat' => 24.703406, 'lng' => 121.137174],
                ['lat' => 24.709956, 'lng' => 121.14507],
                ['lat' => 24.720248, 'lng' => 121.147473],
                ['lat' => 24.727109, 'lng' => 121.145757],
                ['lat' => 24.733033, 'lng' => 121.132024]
            ]
        ]
    ],
    
    // +500 區域（9個多邊形）
    [
        'name' => '加價500區域',
        'surcharge' => 500,
        'polygons' => [
            // 第1個多邊形
            [
                ['lat' => 24.618931, 'lng' => 120.997692],
                ['lat' => 24.615341, 'lng' => 121.028334],
                ['lat' => 24.606289, 'lng' => 121.041208],
                ['lat' => 24.599745, 'lng' => 121.051545],
                ['lat' => 24.596935, 'lng' => 121.048455],
                ['lat' => 24.593657, 'lng' => 121.03807],
                ['lat' => 24.591316, 'lng' => 121.019015],
                ['lat' => 24.59194, 'lng' => 121.004167],
                ['lat' => 24.585384, 'lng' => 120.998502],
                ['lat' => 24.58195, 'lng' => 120.9973],
                ['lat' => 24.583979, 'lng' => 120.988374],
                ['lat' => 24.594984, 'lng' => 120.988717],
                ['lat' => 24.606378, 'lng' => 120.990605]
            ],
            // 第2個多邊形
            [
                ['lat' => 24.433513, 'lng' => 120.864621],
                ['lat' => 24.434138, 'lng' => 120.881444],
                ['lat' => 24.40913, 'lng' => 120.87904],
                ['lat' => 24.405065, 'lng' => 120.858784],
                ['lat' => 24.429137, 'lng' => 120.855694]
            ],
            // 第3個多邊形
            [
                ['lat' => 24.392872, 'lng' => 120.858098],
                ['lat' => 24.376924, 'lng' => 120.863248],
                ['lat' => 24.379582, 'lng' => 120.873719],
                ['lat' => 24.393497, 'lng' => 120.875607],
                ['lat' => 24.401939, 'lng' => 120.875607],
                ['lat' => 24.404127, 'lng' => 120.870972],
                ['lat' => 24.404127, 'lng' => 120.864449],
                ['lat' => 24.398656, 'lng' => 120.858098]
            ],
            // 第4個多邊形
            [
                ['lat' => 24.392872, 'lng' => 120.858098],
                ['lat' => 24.376924, 'lng' => 120.863248],
                ['lat' => 24.379582, 'lng' => 120.873719],
                ['lat' => 24.393497, 'lng' => 120.875607],
                ['lat' => 24.401939, 'lng' => 120.875607],
                ['lat' => 24.404127, 'lng' => 120.870972],
                ['lat' => 24.404127, 'lng' => 120.864449],
                ['lat' => 24.398656, 'lng' => 120.858098]
            ],
            // 第5個多邊形
            [
                ['lat' => 24.392872, 'lng' => 120.858098],
                ['lat' => 24.376924, 'lng' => 120.863248],
                ['lat' => 24.379582, 'lng' => 120.873719],
                ['lat' => 24.393497, 'lng' => 120.875607],
                ['lat' => 24.401939, 'lng' => 120.875607],
                ['lat' => 24.404127, 'lng' => 120.870972],
                ['lat' => 24.404127, 'lng' => 120.864449],
                ['lat' => 24.398656, 'lng' => 120.858098]
            ],
            // 第6個多邊形
            [
                ['lat' => 23.196503, 'lng' => 120.485014],
                ['lat' => 23.190191, 'lng' => 120.509733],
                ['lat' => 23.16147, 'lng' => 120.507673],
                ['lat' => 23.149475, 'lng' => 120.499433],
                ['lat' => 23.137794, 'lng' => 120.484327],
                ['lat' => 23.145371, 'lng' => 120.465444],
                ['lat' => 23.162101, 'lng' => 120.459265]
            ],
            // 第7個多邊形
            [
                ['lat' => 23.125797, 'lng' => 120.440039],
                ['lat' => 23.101799, 'lng' => 120.443128],
                ['lat' => 23.097377, 'lng' => 120.449308],
                ['lat' => 23.087903, 'lng' => 120.467848],
                ['lat' => 23.11443, 'lng' => 120.477117],
                ['lat' => 23.129901, 'lng' => 120.480551],
                ['lat' => 23.13811, 'lng' => 120.476431],
                ['lat' => 23.139057, 'lng' => 120.456518],
                ['lat' => 23.146633, 'lng' => 120.441412],
                ['lat' => 23.146002, 'lng' => 120.437979],
                ['lat' => 23.13148, 'lng' => 120.426992]
            ],
            // 第8個多邊形
            [
                ['lat' => 23.066134, 'lng' => 120.384624],
                ['lat' => 23.064002, 'lng' => 120.407112],
                ['lat' => 23.061633, 'lng' => 120.419471],
                ['lat' => 23.05492, 'lng' => 120.420501],
                ['lat' => 23.051208, 'lng' => 120.422475],
                ['lat' => 23.048681, 'lng' => 120.415008],
                ['lat' => 23.052788, 'lng' => 120.384624]
            ],
            // 第9個多邊形
            [
                ['lat' => 23.045231, 'lng' => 120.363124],
                ['lat' => 23.043099, 'lng' => 120.359949],
                ['lat' => 23.04065, 'lng' => 120.363553],
                ['lat' => 23.039781, 'lng' => 120.366557],
                ['lat' => 23.041598, 'lng' => 120.369218],
                ['lat' => 23.046021, 'lng' => 120.368617]
            ]
        ]
    ],
    
    // +600 區域（6個多邊形）
    [
        'name' => '加價600區域',
        'surcharge' => 600,
        'polygons' => [
            // 第1個多邊形
            [
                ['lat' => 25.092493, 'lng' => 121.760248],
                ['lat' => 25.092804, 'lng' => 121.865649],
                ['lat' => 25.127312, 'lng' => 121.863589],
                ['lat' => 25.133217, 'lng' => 121.837153],
                ['lat' => 25.122027, 'lng' => 121.81518],
                ['lat' => 25.113634, 'lng' => 121.791834],
                ['lat' => 25.112702, 'lng' => 121.774325],
                ['lat' => 25.109282, 'lng' => 121.756472]
            ],
            // 第2個多邊形
            [
                ['lat' => 25.011355, 'lng' => 121.627965],
                ['lat' => 25.0168, 'lng' => 121.648564],
                ['lat' => 24.989419, 'lng' => 121.67603],
                ['lat' => 24.983195, 'lng' => 121.657834],
                ['lat' => 24.989886, 'lng' => 121.647878]
            ],
            // 第3個多邊形
            [
                ['lat' => 24.934063, 'lng' => 121.535569],
                ['lat' => 24.939666, 'lng' => 121.560288],
                ['lat' => 24.902926, 'lng' => 121.560803],
                ['lat' => 24.88474, 'lng' => 121.557885],
                ['lat' => 24.889879, 'lng' => 121.526471],
                ['lat' => 24.907941, 'lng' => 121.533852],
                ['lat' => 24.912456, 'lng' => 121.535569],
                ['lat' => 24.925844, 'lng' => 121.533337],
                ['lat' => 24.920472, 'lng' => 121.511708],
                ['lat' => 24.922651, 'lng' => 121.494027],
                ['lat' => 24.932926, 'lng' => 121.492138],
                ['lat' => 24.937907, 'lng' => 121.505356],
                ['lat' => 24.943666, 'lng' => 121.518403],
                ['lat' => 24.946934, 'lng' => 121.523724],
                ['lat' => 24.946623, 'lng' => 121.534195],
                ['lat' => 24.93993, 'lng' => 121.537972]
            ],
            // 第4個多邊形
            [
                ['lat' => 24.549571, 'lng' => 120.91161],
                ['lat' => 24.54879, 'lng' => 120.952465],
                ['lat' => 24.527553, 'lng' => 120.943882],
                ['lat' => 24.526928, 'lng' => 120.919335],
                ['lat' => 24.526303, 'lng' => 120.90543]
            ],
            // 第5個多邊形
            [
                ['lat' => 24.327745, 'lng' => 120.808059],
                ['lat' => 24.330717, 'lng' => 120.819474],
                ['lat' => 24.326572, 'lng' => 120.833207],
                ['lat' => 24.305062, 'lng' => 120.848829],
                ['lat' => 24.302324, 'lng' => 120.856639],
                ['lat' => 24.297865, 'lng' => 120.864106],
                ['lat' => 24.295049, 'lng' => 120.862476],
                ['lat' => 24.293719, 'lng' => 120.853292],
                ['lat' => 24.295127, 'lng' => 120.835696],
                ['lat' => 24.306079, 'lng' => 120.818187],
                ['lat' => 24.314136, 'lng' => 120.815784]
            ],
            // 第6個多邊形
            [
                ['lat' => 24.299348, 'lng' => 120.816126],
                ['lat' => 24.293016, 'lng' => 120.851745],
                ['lat' => 24.262588, 'lng' => 120.834236],
                ['lat' => 24.271971, 'lng' => 120.802308]
            ]
        ]
    ],
    
    // +800 區域（8個多邊形）
    [
        'name' => '加價800區域',
        'surcharge' => 800,
        'polygons' => [
            // 第1個多邊形
            [
                ['lat' => 25.029035, 'lng' => 121.722159],
                ['lat' => 25.008502, 'lng' => 121.72542],
                ['lat' => 25.011457, 'lng' => 121.769194],
                ['lat' => 25.022969, 'lng' => 121.797003],
                ['lat' => 25.051275, 'lng' => 121.814856],
                ['lat' => 25.056407, 'lng' => 121.787562],
                ['lat' => 25.052364, 'lng' => 121.765246]
            ],
            // 第2個多邊形
            [
                ['lat' => 25.195757, 'lng' => 121.583155],
                ['lat' => 25.180067, 'lng' => 121.590793],
                ['lat' => 25.181621, 'lng' => 121.598776],
                ['lat' => 25.197155, 'lng' => 121.612165],
                ['lat' => 25.207872, 'lng' => 121.607015],
                ['lat' => 25.21191, 'lng' => 121.612509],
                ['lat' => 25.213308, 'lng' => 121.623495],
                ['lat' => 25.196067, 'lng' => 121.658686],
                ['lat' => 25.176028, 'lng' => 121.675852],
                ['lat' => 25.168571, 'lng' => 121.686838],
                ['lat' => 25.184107, 'lng' => 121.702631],
                ['lat' => 25.192805, 'lng' => 121.704862],
                ['lat' => 25.215529, 'lng' => 121.713102],
                ['lat' => 25.230282, 'lng' => 121.686323],
                ['lat' => 25.234008, 'lng' => 121.662119],
                ['lat' => 25.24907, 'lng' => 121.645639],
                ['lat' => 25.278255, 'lng' => 121.625555],
                ['lat' => 25.281825, 'lng' => 121.613539],
                ['lat' => 25.270028, 'lng' => 121.603926],
                ['lat' => 25.249535, 'lng' => 121.600321],
                ['lat' => 25.231679, 'lng' => 121.601866]
            ],
            // 第3個多邊形
            [
                ['lat' => 25.289033, 'lng' => 121.504261],
                ['lat' => 25.299277, 'lng' => 121.525203],
                ['lat' => 25.318209, 'lng' => 121.608287],
                ['lat' => 25.284377, 'lng' => 121.61584],
                ['lat' => 25.277237, 'lng' => 121.607257],
                ['lat' => 25.286239, 'lng' => 121.584598],
                ['lat' => 25.289654, 'lng' => 121.581165],
                ['lat' => 25.291827, 'lng' => 121.575328],
                ['lat' => 25.287171, 'lng' => 121.564685],
                ['lat' => 25.284687, 'lng' => 121.539623],
                ['lat' => 25.280651, 'lng' => 121.52692],
                ['lat' => 25.273511, 'lng' => 121.51559],
                ['lat' => 25.288102, 'lng' => 121.498081]
            ],
            // 第4個多邊形
            [
                ['lat' => 25.250719, 'lng' => 121.457527],
                ['lat' => 25.23954, 'lng' => 121.475723],
                ['lat' => 25.242645, 'lng' => 121.496323],
                ['lat' => 25.250719, 'lng' => 121.519669],
                ['lat' => 25.256308, 'lng' => 121.519669],
                ['lat' => 25.265312, 'lng' => 121.515892],
                ['lat' => 25.281767, 'lng' => 121.506622],
                ['lat' => 25.267796, 'lng' => 121.47538]
            ],
            // 第5個多邊形
            [
                ['lat' => 24.67213, 'lng' => 120.981457],
                ['lat' => 24.673923, 'lng' => 121.004888],
                ['lat' => 24.696384, 'lng' => 120.998022],
                ['lat' => 24.700049, 'lng' => 121.002657],
                ['lat' => 24.703168, 'lng' => 120.995447],
                ['lat' => 24.70387, 'lng' => 120.985576],
                ['lat' => 24.701764, 'lng' => 120.974933],
                ['lat' => 24.69654, 'lng' => 120.973388],
                ['lat' => 24.687806, 'lng' => 120.973903],
                ['lat' => 24.680241, 'lng' => 120.978367]
            ],
            // 第6個多邊形
            [
                ['lat' => 22.935514, 'lng' => 120.509501],
                ['lat' => 22.932668, 'lng' => 120.552073],
                ['lat' => 23.002211, 'lng' => 120.584002],
                ['lat' => 23.007584, 'lng' => 120.555506],
                ['lat' => 23.002527, 'lng' => 120.527354],
                ['lat' => 22.979456, 'lng' => 120.504351]
            ],
            // 第7個多邊形
            [
                ['lat' => 22.96776, 'lng' => 120.473452],
                ['lat' => 22.94658, 'lng' => 120.440493],
                ['lat' => 22.901994, 'lng' => 120.425043],
                ['lat' => 22.913695, 'lng' => 120.468645],
                ['lat' => 22.938992, 'lng' => 120.483065]
            ],
            // 第8個多邊形
            [
                ['lat' => 22.405741, 'lng' => 120.552621],
                ['lat' => 22.428592, 'lng' => 120.575623],
                ['lat' => 22.425419, 'lng' => 120.602746],
                ['lat' => 22.375584, 'lng' => 120.624718],
                ['lat' => 22.343516, 'lng' => 120.632958],
                ['lat' => 22.338435, 'lng' => 120.580773],
                ['lat' => 22.388283, 'lng' => 120.546097]
            ]
        ]
    ],
    
    // +1000 區域（9個多邊形）
    [
        'name' => '加價1000區域',
        'surcharge' => 1000,
        'polygons' => [
            // 第1個多邊形
            [
                ['lat' => 25.026383, 'lng' => 121.791186],
                ['lat' => 25.012695, 'lng' => 121.785693],
                ['lat' => 24.980956, 'lng' => 122.001986],
                ['lat' => 25.024517, 'lng' => 122.047304],
                ['lat' => 25.115944, 'lng' => 121.958041],
                ['lat' => 25.117188, 'lng' => 121.931261],
                ['lat' => 25.115323, 'lng' => 121.902422]
            ],
            // 第2個多邊形
            [
                ['lat' => 24.170405, 'lng' => 120.85516],
                ['lat' => 24.150357, 'lng' => 120.845547],
                ['lat' => 24.159755, 'lng' => 120.905971],
                ['lat' => 24.157249, 'lng' => 120.974636],
                ['lat' => 24.194834, 'lng' => 121.05154],
                ['lat' => 24.220511, 'lng' => 121.164837],
                ['lat' => 24.236165, 'lng' => 121.202602],
                ['lat' => 24.238669, 'lng' => 121.258221],
                ['lat' => 24.350694, 'lng' => 121.382503],
                ['lat' => 24.373838, 'lng' => 121.37701],
                ['lat' => 24.468555, 'lng' => 121.46387],
                ['lat' => 24.602143, 'lng' => 121.587762],
                ['lat' => 24.632106, 'lng' => 121.544503],
                ['lat' => 24.584661, 'lng' => 121.463479],
                ['lat' => 24.398505, 'lng' => 121.326456],
                ['lat' => 24.369111, 'lng' => 121.298304],
                ['lat' => 24.273387, 'lng' => 121.185018],
                ['lat' => 24.240208, 'lng' => 120.985891]
            ],
            // 第3個多邊形
            [
                ['lat' => 23.495156, 'lng' => 120.724433],
                ['lat' => 23.456423, 'lng' => 120.720313],
                ['lat' => 23.452013, 'lng' => 120.758765],
                ['lat' => 23.468705, 'lng' => 120.800307],
                ['lat' => 23.482876, 'lng' => 120.82537],
                ['lat' => 23.501138, 'lng' => 120.831206],
                ['lat' => 23.520342, 'lng' => 120.796188],
                ['lat' => 23.508694, 'lng' => 120.762542]
            ],
            // 第4個多邊形
            [
                ['lat' => 23.306222, 'lng' => 120.586573],
                ['lat' => 23.30701, 'lng' => 120.61318],
                ['lat' => 23.28336, 'lng' => 120.607859],
                ['lat' => 23.286987, 'lng' => 120.571467]
            ],
            // 第5個多邊形
            [
                ['lat' => 23.08312, 'lng' => 120.48964],
                ['lat' => 23.073645, 'lng' => 120.487923],
                ['lat' => 23.065748, 'lng' => 120.495304],
                ['lat' => 23.061484, 'lng' => 120.523285],
                ['lat' => 23.085173, 'lng' => 120.529293],
                ['lat' => 23.087858, 'lng' => 120.524658],
                ['lat' => 23.084699, 'lng' => 120.504402]
            ],
            // 第6個多邊形
            [
                ['lat' => 23.082527, 'lng' => 120.527222],
                ['lat' => 23.068156, 'lng' => 120.581467],
                ['lat' => 23.052204, 'lng' => 120.558465],
                ['lat' => 23.074947, 'lng' => 120.521729]
            ],
            // 第7個多邊形
            [
                ['lat' => 23.046478, 'lng' => 120.553841],
                ['lat' => 23.04553, 'lng' => 120.578217],
                ['lat' => 23.067327, 'lng' => 120.603108],
                ['lat' => 23.086436, 'lng' => 120.600361],
                ['lat' => 23.091647, 'lng' => 120.58989],
                ['lat' => 23.089279, 'lng' => 120.583195],
                ['lat' => 23.054415, 'lng' => 120.554001]
            ],
            // 第8個多邊形
            [
                ['lat' => 23.005085, 'lng' => 120.630018],
                ['lat' => 23.007297, 'lng' => 120.655767],
                ['lat' => 23.001608, 'lng' => 120.65817],
                ['lat' => 22.895065, 'lng' => 120.6592],
                ['lat' => 22.887475, 'lng' => 120.651304],
                ['lat' => 22.883679, 'lng' => 120.636884],
                ['lat' => 22.884628, 'lng' => 120.621091],
                ['lat' => 22.892851, 'lng' => 120.609762]
            ],
            // 第9個多邊形
            [
                ['lat' => 23.005085, 'lng' => 120.630018],
                ['lat' => 23.007297, 'lng' => 120.655767],
                ['lat' => 23.001608, 'lng' => 120.65817],
                ['lat' => 22.895065, 'lng' => 120.6592],
                ['lat' => 22.887475, 'lng' => 120.651304],
                ['lat' => 22.883679, 'lng' => 120.636884],
                ['lat' => 22.884628, 'lng' => 120.621091],
                ['lat' => 22.892851, 'lng' => 120.609762]
            ]
        ]
    ],
    
    // +1500 區域（7個多邊形）
    [
        'name' => '加價1500區域',
        'surcharge' => 1500,
        'polygons' => [
            // 第1個多邊形
            [
                ['lat' => 24.016345, 'lng' => 121.086324],
                ['lat' => 23.985295, 'lng' => 121.139196],
                ['lat' => 24.008192, 'lng' => 121.200994],
                ['lat' => 24.032652, 'lng' => 121.21919],
                ['lat' => 24.042685, 'lng' => 121.21404],
                ['lat' => 24.072781, 'lng' => 121.172155],
                ['lat' => 24.074662, 'lng' => 121.158079]
            ],
            // 第2個多邊形
            [
                ['lat' => 23.591081, 'lng' => 120.865697],
                ['lat' => 23.590452, 'lng' => 120.916509],
                ['lat' => 23.733217, 'lng' => 120.895223],
                ['lat' => 23.758357, 'lng' => 120.878744],
                ['lat' => 23.755215, 'lng' => 120.840291],
                ['lat' => 23.702413, 'lng' => 120.822439]
            ],
            // 第3個多邊形
            [
                ['lat' => 23.591303, 'lng' => 120.860006],
                ['lat' => 23.592719, 'lng' => 120.946867],
                ['lat' => 23.54347, 'lng' => 120.941202],
                ['lat' => 23.550237, 'lng' => 120.900003],
                ['lat' => 23.542998, 'lng' => 120.860349]
            ],
            // 第4個多邊形
            [
                ['lat' => 23.296704, 'lng' => 120.699897],
                ['lat' => 23.267691, 'lng' => 120.748649],
                ['lat' => 23.197022, 'lng' => 120.708137],
                ['lat' => 23.205227, 'lng' => 120.660758],
                ['lat' => 23.225421, 'lng' => 120.655265]
            ],
            // 第5個多邊形
            [
                ['lat' => 23.207433, 'lng' => 120.656636],
                ['lat' => 23.195758, 'lng' => 120.687535],
                ['lat' => 23.131129, 'lng' => 120.634835],
                ['lat' => 23.15457, 'lng' => 120.617755]
            ],
            // 第6個多邊形
            [
                ['lat' => 23.207433, 'lng' => 120.656636],
                ['lat' => 23.195758, 'lng' => 120.687535],
                ['lat' => 23.131129, 'lng' => 120.634835],
                ['lat' => 23.15457, 'lng' => 120.617755]
            ],
            // 第7個多邊形
            [
                ['lat' => 22.890409, 'lng' => 120.657219],
                ['lat' => 22.878706, 'lng' => 120.661339],
                ['lat' => 22.89294, 'lng' => 120.713524],
                ['lat' => 22.914445, 'lng' => 120.734123],
                ['lat' => 22.920769, 'lng' => 120.715241],
                ['lat' => 22.921086, 'lng' => 120.701164],
                ['lat' => 22.917607, 'lng' => 120.679535]
            ]
        ]
    ]
];

// 偏遠地區計算函數
function calculate_remote_area_surcharge($address) {
    global $REMOTE_AREAS;
    
    // 取得地址座標
    $coords = nineo_get_address_coordinates($address);
    if (!$coords) {
        error_log('[9O Booking] 無法取得地址座標: ' . $address);
        return 0;
    }
    
    // 檢查是否在偏遠地區內
    foreach ($REMOTE_AREAS as $area) {
        foreach ($area['polygons'] as $polygon) {
            if (!empty($polygon) && nineo_point_in_polygon($coords, $polygon)) {
                error_log('[9O Booking] 找到匹配區域: ' . $area['name'] . ', 加價: NT$' . $area['surcharge']);
                return $area['surcharge'];
            }
        }
    }
    
    return 0;
}

// 檢查地址是否在偏遠地區
function is_remote_area($address) {
    return calculate_remote_area_surcharge($address) > 0;
}

// 取得所有偏遠地區資訊
function get_all_remote_areas() {
    global $REMOTE_AREAS;
    return $REMOTE_AREAS;
}

// 取得特定加價金額的區域
function get_remote_areas_by_surcharge($surcharge) {
    global $REMOTE_AREAS;
    
    foreach ($REMOTE_AREAS as $area) {
        if ($area['surcharge'] == $surcharge) {
            return $area;
        }
    }
    
    return null;
}

// 除錯日誌
if (defined('NINEO_DEBUG_MODE') && NINEO_DEBUG_MODE) {
    error_log('[9O Booking] Remote Areas Data loaded - Priority: 25');
    
    // 統計載入的區域數量
    $total_areas = count($REMOTE_AREAS);
    $total_polygons = 0;
    foreach ($REMOTE_AREAS as $area) {
        $total_polygons += count($area['polygons']);
    }
    
    error_log('[9O Booking] 載入 ' . $total_areas . ' 個偏遠地區，共 ' . $total_polygons . ' 個多邊形');
}
